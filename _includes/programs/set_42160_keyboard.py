# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"nhkv?*Y3-QJV4Z+Tt#d+","fields":{"VAR":{"id":"SU`hDwV#At|n9!oFWg#v"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"/0#u@~g,*ptdJCfhe|xq","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"5~PlzCIwDuAicW{XUIZ+","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"D~^vKe6!,tZ{RJJL-8jz","fields":{"VAR":{"id":"INn#0]HTW}^i_z6XS4t9"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"0(mMpuc1-9Z=oGH}~v)Q","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"izw*C70.Jio$i~ZDw?OW","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"MLWt~309`?(iB[{nYWjZ","fields":{"VAR":{"id":"Dmb*(,{+rKA,8h41R/:W"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"#,~*8aDx8wXG.o,Baw:K","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"-jU]7QXX,kQJ/qaccNZs","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_car","id":"#rV!lgT{NpZt%%/6vqB{","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"h|_rzGrJcAjmf5DhWuVH"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"^jM(?YZ;`Kfq%)lKWq7_","fields":{"VAR":{"id":"SU`hDwV#At|n9!oFWg#v","name":"steering","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"3}sczA=$fp{]m-sZQBKF","fields":{"VAR":{"id":"INn#0]HTW}^i_z6XS4t9","name":"front","type":"Motor"}}}},"DRIVE1":{"shadow":{"type":"variables_get_motor_device","id":".=Y%El?X8s[/]/C6k_}5","fields":{"VAR":{"id":"Dmb*(,{+rKA,8h41R/:W","name":"rear","type":"Motor"}}}}},"next":{"block":{"type":"variables_setup_any","id":"qzJ|rU*zkH5{jOxZL-_=","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"[`K@RswGak[g3S()b.WY","fields":{"NUM":0}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":336,"deletable":false,"next":{"block":{"type":"blockFlowWhile","id":".QC*kn8#o^lmSe+ca{Wj","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"H?V+7C2Yt/q!G5_^#uxP"}},"DO":{"block":{"type":"blockComment","id":"j(,.V904h#9s3LG}|rf1","fields":{"FIELDNAME":"We'll use the keypad to control the car.\n\n7 | 8 | 9    : Forward\n4 | 5 | 6    : Stop\n1 | 2 | 3    : Reverse\n..   ..   ..\nL | S | R    (Left | Straight | Right)\n\nYou could use any other keys if you\ndon't have a keypad. Just change them\nbelow."},"next":{"block":{"type":"blockVariableSetValue","id":"lfP}|8p,r(.r~wLACzCm","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"$9U2^s^6_wd{ltFG#2Qg","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"r-[alqozAabS)rt^@si4","fields":{"NUM":0}},"block":{"type":"blockReadInput","id":"Sqk3s[W%s}O.oC0U7Pon","fields":{"METHOD":"READ_INPUT_LAST_CHAR"}}}},"next":{"block":{"type":"blockIfElse","id":"z++f:,sO~K/pj1zQ5uXy","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"d=h[Ch{qv{Bby/S0[h1/"},"block":{"type":"blockVariableGetValue","id":"3^)[EEjBP*!QD$*T!]oR","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"S6(M8]N]1%c(I`8=vro2","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}}}}},"DO0":{"block":{"type":"blockPrint","id":"M4@SIrI]a:_Ik#FM).0;","extraState":{"optionLevel":1},"fields":{"SEP":"SEP_SPACE"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"{^f07=W;ViV!#IsC?S+|","fields":{"TEXT":"You pressed:"}}},"TEXT1":{"shadow":{"type":"text","id":"*:Aw4iKZb,#NAsBi}L+e","fields":{"TEXT":"abc"}},"block":{"type":"blockVariableGetValue","id":"|P#lUxHfAMrH{0uk7te:","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"XT)Dv~7`K@-kzMSRTErU","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}}}}}},"next":{"block":{"type":"blockCarSteer","id":"mk}3O#L,jV6LOb#^,M[E","inputs":{"VAR":{"shadow":{"type":"variables_get_car_device","id":"DcBHI9u-mg8?.QC4{m8I","fields":{"VAR":{"id":"h|_rzGrJcAjmf5DhWuVH","name":"car","type":"Car"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"(k(CLFFjO!]V?VQF*$QB","fields":{"VALUE0":0}},"block":{"type":"blockLogicTernaryDouble","id":"mCTKnbZb1xg=+Ob:oQW3","inputs":{"VAL_A":{"shadow":{"type":"blockMathNumber","id":")-8Jp]e9TL#lAfVo[XCa","fields":{"NUM":100}}},"IF_0":{"shadow":{"type":"blockLogicTrue","id":"Pg--S2e$@DdG;#vJk*4]"},"block":{"type":"blockIsIn","id":"UmVaQ|4V,qmBUL/lt=1;","inputs":{"VALUE0":{"shadow":{"type":"text","id":"||QdODAxG`Ci9+}y:S.?","fields":{"TEXT":"a"}},"block":{"type":"blockVariableGetValue","id":"4]#^3$o|D]n}dKdB76ZY","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"=j8?%^u$C1_4m9R~TJdo","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}}}}},"VALUE1":{"shadow":{"type":"text","id":"6|(A#C?F=|rh_]v].J.N","fields":{"TEXT":"369"}}}}}},"VAL_B":{"shadow":{"type":"blockMathNumber","id":"fxK%NZr2vTTH!{Z5Kj~~","fields":{"NUM":-100}}},"IF_1":{"shadow":{"type":"blockLogicTrue","id":"0UDb9Fr,xf`UNn*~DqDe"},"block":{"type":"blockIsIn","id":"kVE2|-LodcIGD_gAw~f8","inputs":{"VALUE0":{"shadow":{"type":"text","id":"||QdODAxG`Ci9+}y:S.?","fields":{"TEXT":"a"}},"block":{"type":"blockVariableGetValue","id":"{FU.,KXHbjym3=0D]NbB","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"4h+RZ!5zn*Q8[qB[jQ;V","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}}}}},"VALUE1":{"shadow":{"type":"text","id":"/p#?gK.E/N3+KyhIV0(P","fields":{"TEXT":"147"}}}}}},"VAL_C":{"shadow":{"type":"blockMathNumber","id":"+^0*u8NGLX)u{W{C$r$5","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"blockCarDrive","id":"xR5bV#N.Bn@0r;h3vqjI","extraState":{"optionLevel":1},"fields":{"METHOD":"CAR_DRIVE_AT_POWER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_car_device","id":"F-C}:0di1OE=1ee}ZV,g","fields":{"VAR":{"id":"h|_rzGrJcAjmf5DhWuVH","name":"car","type":"Car"}}}},"ARG0":{"shadow":{"type":"unit_percent","id":"{|~3ydq0!3phdQuYc9Tj","fields":{"VALUE0":50}},"block":{"type":"blockLogicTernaryDouble","id":"CVm2f8w~-6tC*#yYoPi,","inputs":{"VAL_A":{"shadow":{"type":"blockMathNumber","id":"3gp,69!k0^410d#UwQ1A","fields":{"NUM":100}}},"IF_0":{"shadow":{"type":"blockLogicTrue","id":"Pg--S2e$@DdG;#vJk*4]"},"block":{"type":"blockIsIn","id":":$!YH{r/Ik?t$DM;^x,G","inputs":{"VALUE0":{"shadow":{"type":"text","id":"||QdODAxG`Ci9+}y:S.?","fields":{"TEXT":"a"}},"block":{"type":"blockVariableGetValue","id":",bza2KCW)D9_Y`g49BKU","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"NCM)Bd-qLS}fJ,MJOs(O","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}}}}},"VALUE1":{"shadow":{"type":"text","id":"|D/l+0HOV!we.FIruMJ]","fields":{"TEXT":"789"}}}}}},"VAL_B":{"shadow":{"type":"blockMathNumber","id":"*.CD7nD?f]L-(m1lu_g5","fields":{"NUM":-100}}},"IF_1":{"shadow":{"type":"blockLogicTrue","id":"0UDb9Fr,xf`UNn*~DqDe"},"block":{"type":"blockIsIn","id":"eBu{T_+LPH3Ho{U4^WJy","inputs":{"VALUE0":{"shadow":{"type":"text","id":"||QdODAxG`Ci9+}y:S.?","fields":{"TEXT":"a"}},"block":{"type":"blockVariableGetValue","id":"7:,]N}D~`j|Ybvf[?9]q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"_hdamg|lWRlcIoDE;J*_","fields":{"VAR":{"id":"XrS9$Emx{8WSVNYYj7B4","name":"key","type":"Any"}}}}}}},"VALUE1":{"shadow":{"type":"text","id":"zNLFlbaXJcuGv;.MYaXN","fields":{"TEXT":"123"}}}}}},"VAL_C":{"shadow":{"type":"blockMathNumber","id":"wmMb]9OxEangrfsEru0t","fields":{"NUM":0}}}}}}}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"]hb};S1^=sM%02uBZ|Tt","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"3[2dhv]xj:gMOf*rn3Sr","fields":{"VALUE0":30}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"tY1NeadO^;%:Z-M{Q7g0","type":"ColorDef"},{"name":"orange","id":"f^@*I=s-_cu@rQ58T/%x","type":"ColorDef"},{"name":"yellow","id":"x.5bprt|!YOAA*oTvXQk","type":"ColorDef"},{"name":"green","id":"I_c*s!/ZlA{c_6SN-_BY","type":"ColorDef"},{"name":"cyan","id":"9Sf}f9aWUzV%Gp2(-)cN","type":"ColorDef"},{"name":"blue","id":"-wKLU0+M?#y[%R(sTM?]","type":"ColorDef"},{"name":"violet","id":"zyHO+E|G+U]juzKBeJm(","type":"ColorDef"},{"name":"magenta","id":"xJ+coHII1oCOKs=}I+[J","type":"ColorDef"},{"name":"white","id":"L6C+AWWM))j:pTk]Y%m[","type":"ColorDef"},{"name":"none","id":"Tk2LT|ldmhewOg8sER=[","type":"ColorDef"},{"name":"car","id":"h|_rzGrJcAjmf5DhWuVH","type":"Car"},{"name":"key","id":"XrS9$Emx{8WSVNYYj7B4","type":"Any"},{"name":"steering","id":"SU`hDwV#At|n9!oFWg#v","type":"Motor"},{"name":"front","id":"INn#0]HTW}^i_z6XS4t9","type":"Motor"},{"name":"rear","id":"Dmb*(,{+rKA,8h41R/:W","type":"Motor"}],"info":{"type":"pybricks","version":"1.2.2"}}
from pybricks.parameters import Direction, Port
from pybricks.pupdevices import Motor
from pybricks.robotics import Car
from pybricks.tools import read_input_byte, wait

# Set up all devices.
steering = Motor(Port.D, Direction.CLOCKWISE)
front = Motor(Port.B, Direction.CLOCKWISE)
rear = Motor(Port.A, Direction.CLOCKWISE)
car = Car(steering, [front, rear])

# Initialize variables.
key = 0


# The main program starts here.
while True:
    # We'll use the keypad to control the car.

    # 7 | 8 | 9    : Forward
    # 4 | 5 | 6    : Stop
    # 1 | 2 | 3    : Reverse
    # ..   ..   ..
    # L | S | R    (Left | Straight | Right)

    # You could use any other keys if you
    # don't have a keypad. Just change them
    # below.
    key = read_input_byte(True, True)
    if key:
        print('You pressed:', key)
        car.steer(100 if key in '369' else (-100 if key in '147' else 0))
        car.drive_power(100 if key in '789' else (-100 if key in '123' else 0))
    wait(30)
