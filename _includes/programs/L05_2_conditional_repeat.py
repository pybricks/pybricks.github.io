# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":141,"y":110,"deletable":false,"next":{"block":{"type":"variables_set_ultrasonic_sensor","id":"dZ1_$tvX@SsrW}R.iZ*}","fields":{"VAR":{"id":"p-Lh:}aHJd9!xIe%@MYX"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"8H?xxb)v`@hs~ttLto:U","fields":{"NAME":"D"}}}},"next":{"block":{"type":"variables_set_inventor_hub","id":"EGaFOcqv;ticnXEjz}_F","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"wefY8LH).x,z+SlO{6y,"}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":141,"y":283,"deletable":false,"next":{"block":{"type":"blockLightOnColor","id":"WXB+Xi$$KZ5;B2e?.sOx","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":"%Jp],EK~;)6Om/HSjeoP","fields":{"VAR":{"id":"wefY8LH).x,z+SlO{6y,","name":"hub","type":"InventorHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"j|mgJY.`~.e,^W:El}B|","fields":{"COLOUR":"#ff0000","VAR":{"id":"(@N`-Kd6guDv0E^gP(SH","name":"red","type":"ColorDef"}}}}},"next":{"block":{"type":"blockFlowWhile","id":"3W3%$z2cUeXYzJev3J%q","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":",EQWeo^T@3)Z35~6Cs)S"},"block":{"type":"blockLogicCompare","id":".aiCa*48@0ST`FF7I2ek","fields":{"OP1":"LT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"]^m4TiuI@|Uy#CIdVb3i","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"@3eU[VTJ/FLIZv8W%7M@","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"VT5E*f,FYe^icOj88XMN","fields":{"VAR":{"id":"p-Lh:}aHJd9!xIe%@MYX","name":"sensor","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"!1Gt[7/I.^[(snG7~_cm","fields":{"NUM":500}}}}}},"DO":{"block":{"type":"blockSpeakerBeep","id":"16,z%Uk}i5xa8C#1fi%0","inputs":{"VAR":{"shadow":{"type":"variables_get_speaker_hub","id":"R48h2@w:zS`HcK;wnj9E","fields":{"VAR":{"id":"wefY8LH).x,z+SlO{6y,","name":"hub","type":"InventorHub"}}}},"VALUE0":{"shadow":{"type":"unit_frequency","id":"!.GFNcRsM.hS#=hkq*z{","fields":{"VALUE0":500}}},"VALUE1":{"shadow":{"type":"unit_time","id":"]rYFO{c^1t?xNXz6w=Pq","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockWaitTime","id":"BO;**8Wh]oy$l1K!(98/","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"@f|$O=ho8;e(epuag}/N","fields":{"VALUE0":250}}}}}}}}},"next":{"block":{"type":"blockLightOnColor","id":"I_/%VbJc,_PC:P){ty,0","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":"TF-2Dr@VZ63xIKgCds|l","fields":{"VAR":{"id":"wefY8LH).x,z+SlO{6y,","name":"hub","type":"InventorHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"wf(u~g`];[GhxLN_%R?C","fields":{"COLOUR":"#00ff00","VAR":{"id":"XaWE:Aa[Bu.p5TUG.jL_","name":"green","type":"ColorDef"}}}}},"next":{"block":{"type":"blockFlowWhile","id":"kwMxbP)|Q),%M3h7j@(e","fields":{"MODE":"UNTIL"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":",EQWeo^T@3)Z35~6Cs)S"},"block":{"type":"blockLogicCompare","id":"ibX+K^:9[uJDhgP+X#Uc","fields":{"OP1":"GT"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"]^m4TiuI@|Uy#CIdVb3i","fields":{"NUM":3}},"block":{"type":"blockDistance","id":"7}-}}Pb/[(:EM!8;L8;I","inputs":{"VAR":{"shadow":{"type":"variables_get_distance_device","id":"rv:LA?X%f(pQ-(.loxHr","fields":{"VAR":{"id":"p-Lh:}aHJd9!xIe%@MYX","name":"sensor","type":"UltrasonicSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"}2IsM]ci5ApR;tgP^J-*","fields":{"NUM":1000}}}}}},"DO":{"block":{"type":"blockSpeakerBeep","id":"`hrllBa.hB@-C3Y0dNVd","inputs":{"VAR":{"shadow":{"type":"variables_get_speaker_hub","id":"`~4:t~k9AC*oe61-=@tb","fields":{"VAR":{"id":"wefY8LH).x,z+SlO{6y,","name":"hub","type":"InventorHub"}}}},"VALUE0":{"shadow":{"type":"unit_frequency","id":"U(,_ZIG3gVKBQP4g+(;`","fields":{"VALUE0":200}}},"VALUE1":{"shadow":{"type":"unit_time","id":":m*^)(UpItp!%(L+RaGi","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockWaitTime","id":"S0k12?/2XMe#1ijvsyh!","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"(Ksd;K5k9]I%rWTNI0av","fields":{"VALUE0":250}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"(@N`-Kd6guDv0E^gP(SH","type":"ColorDef"},{"name":"orange","id":"b=jp~W{0lS#0Z/uWVJ[S","type":"ColorDef"},{"name":"yellow","id":"-|6hfI{0BAgd/m`(D`:+","type":"ColorDef"},{"name":"green","id":"XaWE:Aa[Bu.p5TUG.jL_","type":"ColorDef"},{"name":"cyan","id":"@21JpLG6R@1Np-v_e|t3","type":"ColorDef"},{"name":"blue","id":"`XyIOpcX01,GVXFoO06%","type":"ColorDef"},{"name":"violet","id":"UD{pzUuqERzZSp3FHh]H","type":"ColorDef"},{"name":"magenta","id":"ydE^hWrq(qj-+Y]TFLo8","type":"ColorDef"},{"name":"white","id":"GwJMKD6aJJc]s97zvV5C","type":"ColorDef"},{"name":"none","id":"~2{G{Fb4DCb9#!G}7qqC","type":"ColorDef"},{"name":"sensor","id":"p-Lh:}aHJd9!xIe%@MYX","type":"UltrasonicSensor"},{"name":"hub","id":"wefY8LH).x,z+SlO{6y,","type":"InventorHub"},{"name":"light","id":"jG+0Zs%QE3JJYA,zNl*J","type":"InventorHub"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import InventorHub
from pybricks.parameters import Color, Port
from pybricks.pupdevices import UltrasonicSensor
from pybricks.tools import wait

# Set up all devices.
hub = InventorHub()
sensor = UltrasonicSensor(Port.D)


# The main program starts here.
hub.light.on(Color.RED)
while sensor.distance() < 500:
    hub.speaker.beep(500, 100)
    wait(250)
hub.light.on(Color.GREEN)
while not sensor.distance() > 1000:
    hub.speaker.beep(200, 100)
    wait(250)
