# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":0,"y":0,"deletable":false,"next":{"block":{"type":"variables_set_technic_hub","id":"eGDWK2wG:3dfN~J[f(6h","extraState":{"optionLevel":2},"fields":{"VAR":{"id":",s{9VvtO*UTz|3O7odYk"},"FIELDBROADCAST":5},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"iw?OG,`,5`CK8K?4-uCs","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"2Ji{yq=o8k})5RaS7G|#","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"z(}72bH*Eg:!^9K:C3/v","fields":{"VAR":{"id":"#[Q|2vwDf?Q!wdxC#]Jw"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"-}-s))osAmb`C`0Jac9L","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"j}VSg+J/|rSdjSya*j;)","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"`2PDE/$vh)05pqRG4.)/","fields":{"VAR":{"id":"FN}[i60b|[RL~AY8,LIu"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"5^-%Th:)~!i.$dcx@gXV","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"eIek8ZTcJm%LOlmZmtU5","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"|+O]pa7HG?Y/D^.3TuG/","fields":{"VAR":{"id":"j6O*TQ9p!!~wOS2+ejmx"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"F]:~d~0,yk?JB98X7kH~","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"vk4W^$6[uOvJYuj?N%CY","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"!pt_A}}{~Y0yMF}jrEEn","fields":{"VAR":{"id":"JL+H+s8l}amP8s=pHvRu"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"b4^t5/aq`*yy$+#l6.,k","fields":{"VAR":{"id":"#[Q|2vwDf?Q!wdxC#]Jw","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"p|ebPnRZLiwFNX+.ZCp~","fields":{"VAR":{"id":"FN}[i60b|[RL~AY8,LIu","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"NLTRi9=UV_yqL~s#7]4}","fields":{"VALUE0":48}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"cf~{dU!jV5I=|nF7h:Gr","fields":{"VALUE0":208}}}},"next":{"block":{"type":"variables_setup_any","id":"s9?/Lvn.hcI#=5+cLhwQ","fields":{"VAR":{"id":"2$8QA`jF?z^}g)5K3}Eg"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":")+N/:!F`HJiBss){b=(C","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"PVya@6UaVs-6?tW}Lh^U","fields":{"VAR":{"id":"-M{(3[=2KvNq:!0qkKcR"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"7NHOATM7n7ev6M:J{Rw+","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_setup_any","id":"??7xH4OIC/qGE.Bmz0|,","fields":{"VAR":{"id":"2#HSYq/*kK?5brey!U9G"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"=c?^@d/}|C$4RaHD?6+G","fields":{"NUM":0}}}},"next":{"block":{"type":"variables_set_xbox_controller","id":"B]xH=?-=[Tc}=#v6kgg@","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14"}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":0,"y":518,"deletable":false,"next":{"block":{"type":"blockFlowWhile","id":":9BYRSWnd^Ss5@-tjvkY","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"IyQebs@}T5mj]!Xd^fvo"}},"DO":{"block":{"type":"blockComment","id":"SH7Z31KK$Gc@?b|l^|V%","fields":{"FIELDNAME":"If Y or X have a nonzero value:\n- Then use Y for speed  and X for steering.\n- Otherwise stop."},"next":{"block":{"type":"blockIfElse","id":"f~hf;^xoE52=JS+s`YMv","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"R67bmjWs8Oq^{vu6%#4U"},"block":{"type":"blockLogicOperation","id":"yjL_;:tex$j@7phUY0H?","fields":{"OP":"OR"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"NUvbZY/nXPq/WpQeCkSs"},"block":{"type":"blockJoystickValue","id":"!jS*FWR:P1FrD[r`bb$]","fields":{"JOYSTICK":"XBOX_LJ_Y"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"X~6qsPtMPS[*cIDD]*w(","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":"Kwl[`JW_`F)p|4wQ,JiM"},"block":{"type":"blockJoystickValue","id":";n!#h,FMrJ0.BUPhA5nS","fields":{"JOYSTICK":"XBOX_LJ_X"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"I[5aYychdSI~gE9Hce2C","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}}}}},"DO0":{"block":{"type":"blockDriveBaseDrive2","id":"(8Pdv;=~e@%R6]K:ZGvO","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_DRIVE_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"iHctDUbx{7lZcEIs^1/@","fields":{"VAR":{"id":"JL+H+s8l}amP8s=pHvRu","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"y)}H]cqaKEuPjI?1E/2-","fields":{"VALUE0":100}},"block":{"type":"blockMathArithmetic","id":"2b)*V4uSgtBU9MU45J4m","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"8Qv~dYRDujHy4bX2_g)#","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"K_;ZSnr=nrm}KyrY*BiL","fields":{"JOYSTICK":"XBOX_LJ_Y"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"3PrdO9_W$u=l7NVk!j:Y","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"9@g{n-902gM~:,1h9aTP","fields":{"NUM":2}}}}}},"ARG1":{"shadow":{"type":"unit_angularVelocity","id":"K]YXRY|_K5|8Zd2e|MHl","fields":{"VALUE0":0}},"block":{"type":"blockMathArithmetic","id":"keLgMpB%fGF5Q@.o2dt]","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"^_4FmN|jfdRRB9pj3s_3","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"Jj^_UAgR*AY`Q0~d~=LV","fields":{"JOYSTICK":"XBOX_LJ_X"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"F]9%c{v[ivNK7--Q^r#L","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"MfY3)K8yXlb_~{P{gI;)","fields":{"NUM":2}}}}}}}}},"ELSE":{"block":{"type":"blockDriveBaseStop","id":"O+0g.-$*:(5MkPIW-cM!","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"i.B/;,Et@d3,jQW9pnBF","fields":{"VAR":{"id":"JL+H+s8l}amP8s=pHvRu","name":"drive base","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"LmwcSSEco#VF]E-YHqht","fields":{"VALUE":"Stop.COAST"}}}}}}},"next":{"block":{"type":"blockComment","id":"}x)Qs%TXtN|hg|_Sjeuc","fields":{"FIELDNAME":"We use the left minus the right trigger to control the turn table.\nThis lets you rotate it by pressing one or the other.\nIf that speed is zero, then coast the motor."},"next":{"block":{"type":"blockIfElse","id":"mX?=7?JFZ|6xD|9n^;ZP","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"R67bmjWs8Oq^{vu6%#4U"},"block":{"type":"blockMathArithmetic","id":"+([_.]BPZQBXh1Z-ZZUc","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"qW+1HC(ZriM=PLlqUS-,","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"tl(+_$h6nZKCMNS;zX-1","fields":{"JOYSTICK":"XBOX_LT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"x[#e*F~r=DPgoP(RtWlM","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"V6]_8qK2pNACUOO#]iQi","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"TS;:#nPzfpf^o[]a[-HM","fields":{"JOYSTICK":"XBOX_RT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"mF@Nc;|Y/%XOk5aXko;z","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}}}}},"DO0":{"block":{"type":"blockMotorRun","id":"4XYL[(gZ[+e2lO3)@3,`","extraState":{"optionLevel":0},"fields":{"METHOD":"MOTOR_RUN_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"Q:/GLaygV]qGs9yYSJ?g","fields":{"VAR":{"id":"j6O*TQ9p!!~wOS2+ejmx","name":"turntable","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"F}gZf5N9$)1ItQ_md?nH","fields":{"VALUE0":500}},"block":{"type":"blockMathArithmetic","id":"2E]r(054Mw,580Dk3q/H","fields":{"OP":"MULTIPLY"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"nuukBh4)x^3lD[ROxwLL","fields":{"NUM":1}},"block":{"type":"blockMathArithmetic","id":"y6Y67tR}~8gbVsgFLvcM","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"qW+1HC(ZriM=PLlqUS-,","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"[1,iZs`EJZ)kyFJDdR2M","fields":{"JOYSTICK":"XBOX_LT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"7aHvck}VXehp{rxrsN0a","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"V6]_8qK2pNACUOO#]iQi","fields":{"NUM":1}},"block":{"type":"blockJoystickValue","id":"%{ZaMDy,}]2F[7|8qY*Q","fields":{"JOYSTICK":"XBOX_RT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"n(uc*B-U^t+MkIGS(}v)","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1ir0f-{^0b`vSO*WD6)R","fields":{"NUM":10}}}}}}}}},"ELSE":{"block":{"type":"blockMotorStop","id":"_=gMDa{iD!D2]K9yn;u1","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"-YiTvYRy0*!wxUbf9WG2","fields":{"VAR":{"id":"j6O*TQ9p!!~wOS2+ejmx","name":"turntable","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":";LMv#OH!a4oLjQmKoCP|","fields":{"VALUE":"Stop.COAST"}}}}}}},"next":{"block":{"type":"blockComment","id":"GI,cftp8$x6^.lT{*YdG","fields":{"FIELDNAME":"Operate boom using direction pad up/down."},"next":{"block":{"type":"blockVariableSetValue","id":"g=BN0c8d`P*eV.XFl:Q1","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Z/OYALcQ87[]7s:^@H@b","fields":{"VAR":{"id":"2$8QA`jF?z^}g)5K3}Eg","name":"boom speed","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"9-O:XmUA((~_:LDWlX2O","fields":{"NUM":0}},"block":{"type":"blockLogicTernaryDouble","id":"npG*+NOv8Yh,^WmNJOt4","inputs":{"VAL_A":{"shadow":{"type":"blockMathNumber","id":"KaF=L0Ca43km3y^,bVrd","fields":{"NUM":100}}},"IF_0":{"shadow":{"type":"blockLogicTrue","id":"$xEP.5fN9]3n.![,l6n^"},"block":{"type":"blockButtonIsPressed","id":")u`A*xCw(@|M40l2u|/.","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"Pg5f=i^Mjn[y$qh(kmTn","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"1(GdHoM5dpV7[{RifQb3","fields":{"VALUE":"UP"}}}}}},"VAL_B":{"shadow":{"type":"blockMathNumber","id":"UliAM:mh$4nr7]XeWEaN","fields":{"NUM":-100}}},"IF_1":{"shadow":{"type":"blockLogicTrue","id":"Q[Lx1_BhjU==^Ikee/;/"},"block":{"type":"blockButtonIsPressed","id":"BcU*/_4d].ktOKK%[}wc","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"IUD9{O9EAvHhnw|!I~.$","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"q7.TUof$s#4xjygy$h[J","fields":{"VALUE":"DOWN"}}}}}},"VAL_C":{"shadow":{"type":"blockMathNumber","id":"Yd7@:_nyEf8fF8oVgZ{T","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"blockComment","id":"@BfFP$!tPga{L-X~8@+I","fields":{"FIELDNAME":"Operate jib using right joystick vertical movement."},"next":{"block":{"type":"blockVariableSetValue","id":"`HaQhR;*|tJj#axb4GU%","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"j5?};JGa?2Sh85Q}wM7j","fields":{"VAR":{"id":"-M{(3[=2KvNq:!0qkKcR","name":"jib speed","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"9-O:XmUA((~_:LDWlX2O","fields":{"NUM":0}},"block":{"type":"blockJoystickValue","id":"98{^w,[LXJ({cz@Btlqw","fields":{"JOYSTICK":"XBOX_RJ_Y"},"inputs":{"VAR":{"shadow":{"type":"variables_get_gamepad","id":"99NEh,onTrEB!GmfndS6","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}}}}}},"next":{"block":{"type":"blockComment","id":"%I=_Q6Nbo|Cs*Sa]RSCm","fields":{"FIELDNAME":"Operate hoist using bumpers."},"next":{"block":{"type":"blockVariableSetValue","id":"DI9:v_l3u=hQ_rI^C_Dp","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"[}e5HeZEufpR%`~3|t9f","fields":{"VAR":{"id":"2#HSYq/*kK?5brey!U9G","name":"hoist speed","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"9-O:XmUA((~_:LDWlX2O","fields":{"NUM":0}},"block":{"type":"blockLogicTernaryDouble","id":",.fbyK9:HMTD-r;@-[gk","inputs":{"VAL_A":{"shadow":{"type":"blockMathNumber","id":"o112W[FYVeuBGl#8yLEZ","fields":{"NUM":100}}},"IF_0":{"shadow":{"type":"blockLogicTrue","id":"$xEP.5fN9]3n.![,l6n^"},"block":{"type":"blockButtonIsPressed","id":"E/L$NUP94];.h1su^4t^","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"(dwAS})E)Y:?+7C2T3q7","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"z@64K8^a$%KW~5aQdAQ?","fields":{"VALUE":"LB"}}}}}},"VAL_B":{"shadow":{"type":"blockMathNumber","id":"RBg+AASXiib;E]un14y:","fields":{"NUM":-100}}},"IF_1":{"shadow":{"type":"blockLogicTrue","id":"-e_WJDMnngR%oU:4W$l}"},"block":{"type":"blockButtonIsPressed","id":"4l)W8CSAHKiWbtWbjNk2","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"=hw/A]C.tqUb]CM-KY1y","fields":{"VAR":{"id":"kv#upqR95=t$fHR]Tv14","name":"xbox","type":"XboxController"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"b.=NCiI$*NhCY6S:._C+","fields":{"VALUE":"RB"}}}}}},"VAL_C":{"shadow":{"type":"blockMathNumber","id":"$1tmiXFp}ZnP]dxf^):$","fields":{"NUM":0}}}}}}},"next":{"block":{"type":"blockComment","id":"=/ms4P$mi~5g.U^2Bd@^","fields":{"FIELDNAME":"Broadcast the values, so the hub in the crane can observe it."},"next":{"block":{"type":"blockBleBroadcast","id":"nx?~|q{?h1)@cUnQOH.w","inputs":{"VAR":{"shadow":{"type":"variables_get_ble_hub","id":"hU1.iJ)d6.(mDb}Sy[rs","fields":{"VAR":{"id":",s{9VvtO*UTz|3O7odYk","name":"hub","type":"TechnicHub"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"iS%ywNK14,1ny4aC`%MW","fields":{"NUM":0}},"block":{"type":"blockListCreate","id":"Ma{nzo3_N{P-*;%g4=P`","extraState":{"optionLevel":3},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"6QXX)VFsrMqxe^}X5XS%","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"%E1~d,/@HbV;HGTF+@:b","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"gVz2/,ZdIT^EV[v9CF#9","fields":{"VAR":{"id":"2$8QA`jF?z^}g)5K3}Eg","name":"boom speed","type":"Any"}}}}}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"+(U*w~i$lC7;#Ge~1}|3","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"uu_g!zwaH7NM0xl+B`G+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"O:s*qFy]m=C:Yfdhoa80","fields":{"VAR":{"id":"-M{(3[=2KvNq:!0qkKcR","name":"jib speed","type":"Any"}}}}}}},"ADD2":{"shadow":{"type":"blockMathNumber","id":"FZqOE,xov)on)jP1yUkq","fields":{"NUM":0}},"block":{"type":"blockVariableGetValue","id":"^VU[:Pr4S1S*QNe!jf`N","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"^}z/wy7=Z`*U[_8F^BL6","fields":{"VAR":{"id":"2#HSYq/*kK?5brey!U9G","name":"hoist speed","type":"Any"}}}}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"GeY5}[g=jnv#s-%7nJ]u","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"duz7]AaE4[1-(TB}KUF=","fields":{"VALUE0":50}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"3|UN2i._9vZ[3eLjGv0_","type":"ColorDef"},{"name":"orange","id":"#K$d9T1Y/Z*b5{l-8:nb","type":"ColorDef"},{"name":"yellow","id":"zbg+L`0EO|mQP7E6rt,p","type":"ColorDef"},{"name":"green","id":"_$kJGMcQ6L6A*x$M0HMo","type":"ColorDef"},{"name":"cyan","id":"J^g,2/HDrs|{P|mc7VK?","type":"ColorDef"},{"name":"blue","id":"B=YrHDt/`9_zl;(8|%Lb","type":"ColorDef"},{"name":"violet","id":"HJmBZ)?{G(D$lUcTri,7","type":"ColorDef"},{"name":"magenta","id":"S!=(Gg!@AW1uFM|3^W}*","type":"ColorDef"},{"name":"white","id":"4no6^I}RX-,bcE5k0.YG","type":"ColorDef"},{"name":"none","id":"xV)%k%yZ|3[]Wq,O(Jks","type":"ColorDef"},{"name":"drive base","id":"JL+H+s8l}amP8s=pHvRu","type":"DriveBase"},{"name":"hub","id":",s{9VvtO*UTz|3O7odYk","type":"TechnicHub"},{"name":"xbox","id":"kv#upqR95=t$fHR]Tv14","type":"XboxController"},{"name":"boom speed","id":"2$8QA`jF?z^}g)5K3}Eg","type":"Any"},{"name":"jib speed","id":"-M{(3[=2KvNq:!0qkKcR","type":"Any"},{"name":"hoist speed","id":"2#HSYq/*kK?5brey!U9G","type":"Any"},{"name":"left","id":"#[Q|2vwDf?Q!wdxC#]Jw","type":"Motor"},{"name":"right","id":"FN}[i60b|[RL~AY8,LIu","type":"Motor"},{"name":"turntable","id":"j6O*TQ9p!!~wOS2+ejmx","type":"Motor"}],"info":{"type":"pybricks","version":"1.2.2"}}
from pybricks.hubs import TechnicHub
from pybricks.iodevices import XboxController
from pybricks.parameters import Axis, Button, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import wait

# Set up all devices.
hub = TechnicHub(top_side=Axis.Z, front_side=Axis.X, broadcast_channel=5)
left = Motor(Port.C, Direction.CLOCKWISE)
right = Motor(Port.D, Direction.COUNTERCLOCKWISE)
turntable = Motor(Port.B, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(left, right, 48, 208)
xbox = XboxController()

# Initialize variables.
boom_speed = 0
jib_speed = 0
hoist_speed = 0


# The main program starts here.
while True:
    # If Y or X have a nonzero value:
    # - Then use Y for speed  and X for steering.
    # - Otherwise stop.
    if xbox.joystick_left()[1] or xbox.joystick_left()[0]:
        drive_base.drive(xbox.joystick_left()[1] * 2, xbox.joystick_left()[0] * 2)
    else:
        drive_base.stop()
    # We use the left minus the right trigger to control the turn table.
    # This lets you rotate it by pressing one or the other.
    # If that speed is zero, then coast the motor.
    if xbox.triggers()[0] - xbox.triggers()[1]:
        turntable.run((xbox.triggers()[0] - xbox.triggers()[1]) * 10)
    else:
        turntable.stop()
    # Operate boom using direction pad up/down.
    boom_speed = 100 if Button.UP in xbox.buttons.pressed() else (-100 if Button.DOWN in xbox.buttons.pressed() else 0)
    # Operate jib using right joystick vertical movement.
    jib_speed = xbox.joystick_right()[1]
    # Operate hoist using bumpers.
    hoist_speed = 100 if Button.LB in xbox.buttons.pressed() else (-100 if Button.RB in xbox.buttons.pressed() else 0)
    # Broadcast the values, so the hub in the crane can observe it.
    hub.ble.broadcast([boom_speed, jib_speed, hoist_speed])
    wait(50)
