# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":26,"y":23,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"u8IACHtw@93XK!ZSV!]*","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"M(Nj`oRAz|Nfh%D19AOf"}},"next":{"block":{"type":"variables_set_motor","id":"`ckvX72RRO2%rJ%B|(M6","fields":{"VAR":{"id":"I53Xcpt{AF/^Y~er!Ae."}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"voXqQmvRsz}to7s^|3B#","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"T#QvY]QaZJS(-z[LvR54","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"p3aVuKxCqO{AWWf)qy9}","fields":{"VAR":{"id":"WU?-A7sr@(wylvY9bml."}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"8P:X%+o@Fhoyr13,cY#x","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"APQW8~Z9Ow68Y$oBKHn-","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":")7*br?PVxjM-e620.S`_","fields":{"VAR":{"id":"tx+grocr(+gz|!!aOwj["}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"(mx$![/|%~SNmQfJxt(_","fields":{"VAR":{"id":"I53Xcpt{AF/^Y~er!Ae.","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"`zb:UrDtrwr#hhJ!y:TM","fields":{"VAR":{"id":"WU?-A7sr@(wylvY9bml.","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"QNa,,]3Gx,ncIY9)^]`0","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":")FU%$Ue*_bTxp2bwgNH:","fields":{"VALUE0":128}}}},"next":{"block":{"type":"variables_set_ultrasonic_sensor","id":"dZ1_$tvX@SsrW}R.iZ*}","fields":{"VAR":{"id":"34|JQ1oqFiClXIo$D;QD"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"8H?xxb)v`@hs~ttLto:U","fields":{"NAME":"D"}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":27,"y":343,"deletable":false,"next":{"block":{"type":"blockFlowWhile","id":"W.b=h.pfMnowbNlPH[.V","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"/YCk@gFOC-dct$6MF`N~"}},"DO":{"block":{"type":"blockDriveBaseDrive2","id":"))`9pFJ0e^;ZprbHDzX:","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_DRIVE_FOREVER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"tL%.d0fgY.-qf,%++R~-","fields":{"VAR":{"id":"tx+grocr(+gz|!!aOwj[","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"@bkl):usC|3q${/EKlkp","fields":{"VALUE0":200}}},"ARG1":{"shadow":{"type":"unit_angularVelocity","id":"W0Ab]Boo%oKvhd^|f2.]","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockWaitUntil","id":"TQt~[*b]|q$MIy6r4U1f","inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"SFf5PmUm_s%+bh11AF/N"},"block":{"type":"blockLogicOperation","id":"_7R@~njNk_LQsONuwCuR","fields":{"OP":"OR"},"inputs":{"A":{"shadow":{"type":"blockLogicTrue","id":"J]W;|gF{JR:U|d#|w-eG"},"block":{"type":"blockButtonIsPressed","id":"RM5[A}=qCyldu80FrdQi","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"{|w4:|J:6tB7qCjBMV+/","fields":{"VAR":{"id":"M(Nj`oRAz|Nfh%D19AOf","name":"hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"eQ!oed/h9Cmo,q|k;~7Y","fields":{"VALUE":"LEFT"}}}}}},"B":{"shadow":{"type":"blockLogicTrue","id":";t]MdWR)~@Z*^jfPC}%_"},"block":{"type":"blockButtonIsPressed","id":"%=_}$900QM-N6@;rC,Q5","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"bu-Ig4z*1VwO~2.,5fSm","fields":{"VAR":{"id":"M(Nj`oRAz|Nfh%D19AOf","name":"hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"CV_b=L6ZRenS+JnrM$]Q","fields":{"VALUE":"RIGHT"}}}}}}}}}},"next":{"block":{"type":"blockIfElse","id":";l0HPz:l}(6hE]`a`qj+","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"uT{u%g|Yb@lF/(EtEkTb"},"block":{"type":"blockButtonIsPressed","id":"?Gt2U_Ka]`N|8*X,.3-:","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"Hw?d^.A}U`D?KSg.hD91","fields":{"VAR":{"id":"M(Nj`oRAz|Nfh%D19AOf","name":"hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"j@WczP!`)rmEQWf.L;|9","fields":{"VALUE":"RIGHT"}}}}}},"DO0":{"block":{"type":"blockPrint","id":"hls!v/`2}%u2997pz,?5","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"cOaR+MaZ@^RAYRDzhwHs","fields":{"TEXT":"Left bumper hit!"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"1!8Ly:Ax6|+ltHrUP7[7","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"UeXw+LiZeJ;lQ.8Ym7^^","fields":{"VAR":{"id":"tx+grocr(+gz|!!aOwj[","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"_V:Lr(b9s].w*9MI/lKr","fields":{"VALUE0":-50}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"VCo8:+O]s1$hhM[Jx%sz","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"cc_dB^Af;w^|5SQ#9!u:","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"x^3i,a.w`3}0]r-q:_^6","fields":{"VAR":{"id":"tx+grocr(+gz|!!aOwj[","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"Q82CauULVzquggo+:%NK","fields":{"VALUE0":45}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"[9.qQUWOcO{ZI+oj_5Tb","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}},"ELSE":{"block":{"type":"blockPrint","id":"I`Nq7`W_n],}jgHxS]SH","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"YGq1V![O$M#951X*~~Q:","fields":{"TEXT":"Right bumper hit!"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"-/3sSH][LzCsc|4d/Sw]","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"+PnKPo5nM91FEmU2MZCO","fields":{"VAR":{"id":"tx+grocr(+gz|!!aOwj[","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"BiqrAQW`3,t@w;)dN|OQ","fields":{"VALUE0":-50}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Rd_m3:.m;=sVg9{f2`BD","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"`o4y*T](Lc*(Wp]en$:q","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"#7b%~s9H%IX_}Ehdu~B-","fields":{"VAR":{"id":"tx+grocr(+gz|!!aOwj[","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"]POh97W^{OB}EgbI3rGs","fields":{"VALUE0":-45}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"q;BLE]EkgGo4~[3P*/We","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"zTWBdr:x]9TZ5w^0hze8","type":"ColorDef"},{"name":"orange","id":"q.tDyo+jgZZDMye7oWnb","type":"ColorDef"},{"name":"yellow","id":"]%)nHSg1LSBIPd/=|o.M","type":"ColorDef"},{"name":"green","id":"]Me#}e+(Fe5HNY2X9S:C","type":"ColorDef"},{"name":"cyan","id":"hfyUxJb9Hk9dstNnrgqc","type":"ColorDef"},{"name":"blue","id":"S}SRcf||7%So~Gl)k]U-","type":"ColorDef"},{"name":"violet","id":"PKqk(IDH3oY|mtEt6lnj","type":"ColorDef"},{"name":"magenta","id":"~kn`ES|Olk*dHVt~J3Oq","type":"ColorDef"},{"name":"white","id":",ssDGS*gf)s!{:j:Q(ZX","type":"ColorDef"},{"name":"none","id":"N8zP+udl{B!-/6E]:$s;","type":"ColorDef"},{"name":"left","id":"I53Xcpt{AF/^Y~er!Ae.","type":"Motor"},{"name":"right","id":"WU?-A7sr@(wylvY9bml.","type":"Motor"},{"name":"sensor","id":"34|JQ1oqFiClXIo$D;QD","type":"UltrasonicSensor"},{"name":"hub","id":"M(Nj`oRAz|Nfh%D19AOf","type":"PrimeHub"},{"name":"robot","id":"tx+grocr(+gz|!!aOwj[","type":"DriveBase"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Button, Direction, Port
from pybricks.pupdevices import Motor, UltrasonicSensor
from pybricks.robotics import DriveBase
from pybricks.tools import wait

# Set up all devices.
hub = PrimeHub()
sensor = UltrasonicSensor(Port.D)
left = Motor(Port.A, Direction.COUNTERCLOCKWISE)
right = Motor(Port.B, Direction.CLOCKWISE)
robot = DriveBase(left, right, 56, 128)


# The main program starts here.
while True:
    robot.drive(200, 0)
    while not (Button.LEFT in hub.buttons.pressed() or Button.RIGHT in hub.buttons.pressed()):
        wait(0)
    if Button.RIGHT in hub.buttons.pressed():
        print('Left bumper hit!')
        robot.straight(-50)
        robot.turn(45)
    else:
        print('Right bumper hit!')
        robot.straight(-50)
        robot.turn(-45)
