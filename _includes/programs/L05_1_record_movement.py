# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":20,"y":18,"deletable":false,"next":{"block":{"type":"variables_set_motor","id":"`ckvX72RRO2%rJ%B|(M6","fields":{"VAR":{"id":"2ayhO0H`E}8U5|~=jn^7"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"voXqQmvRsz}to7s^|3B#","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"T#QvY]QaZJS(-z[LvR54","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"p3aVuKxCqO{AWWf)qy9}","fields":{"VAR":{"id":"v@wn1nh$1@t-0`cn#}l;"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"8P:X%+o@Fhoyr13,cY#x","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"APQW8~Z9Ow68Y$oBKHn-","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":")7*br?PVxjM-e620.S`_","fields":{"VAR":{"id":"gvR:UtvqI:R]+bffJMhb"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"(mx$![/|%~SNmQfJxt(_","fields":{"VAR":{"id":"2ayhO0H`E}8U5|~=jn^7","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"`zb:UrDtrwr#hhJ!y:TM","fields":{"VAR":{"id":"v@wn1nh$1@t-0`cn#}l;","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"QNa,,]3Gx,ncIY9)^]`0","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":")FU%$Ue*_bTxp2bwgNH:","fields":{"VALUE0":128}}}},"next":{"block":{"type":"variables_set_stopwatch","id":"!0ZteB%a0xmj56%7K)@t","fields":{"VAR":{"id":"f!)#u^psK(+1@vc4V)+g"}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":17,"y":333,"deletable":false,"next":{"block":{"type":"blockMultiTask","id":"Oos//Rb3sH]//7$@Sh/8","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_RACE"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"X[S8Xt22#@J8KG7ubN(1","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":";xvcy(kNR%s~^Pd_d%Df","fields":{"VAR":{"id":"gvR:UtvqI:R]+bffJMhb","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"Z##03-;lY?}JP,a@4LxF","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"Ain^ud`*QHq;LGKR_zQg","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"p}t)]hV98$(pIzfQvF,J","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"17qZ^*|kQqSxtoO]PTD6","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"t#(:lKVo#hZ]$C700l)A","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":")|S41ag?qgN2Is@B[AU#","fields":{"VAR":{"id":"gvR:UtvqI:R]+bffJMhb","name":"robot","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"s]GLv}Z2biVoS}{Op+/d","fields":{"VALUE0":-250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"aoptdz*m]op3_gJO$%x|","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"Nzx}RYJ=Qq]xyi`Ig4.i","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"fnI,|}q@MZR]VkZ)wdPa","fields":{"VALUE0":500}}}}}}}}}}}},"TASK1":{"block":{"type":"blockPrint","id":"u/?*5|9C!,G;.P?Oq[CA","extraState":{"optionLevel":2},"fields":{"SEP":"SEP_COMMA_ONLY"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"gM6k~p7}Yr4DU$|y!.QN","fields":{"TEXT":"Time"}}},"TEXT1":{"shadow":{"type":"text","id":":N)!bK[HvzRSM8uyDotg","fields":{"TEXT":"Distance"}}},"TEXT2":{"shadow":{"type":"text","id":"c9[K9_ScNbLIh~6%g]Pa","fields":{"TEXT":"Speed"}}}},"next":{"block":{"type":"blockFlowWhile","id":"d(gL[se9Y^B%yxBXf]g,","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"wTTrOZ6(kcS?e~zzl6Um"}},"DO":{"block":{"type":"blockPrint","id":"j,,T}?rBkaW$1v?olp4p","extraState":{"optionLevel":2},"fields":{"SEP":"SEP_COMMA_ONLY"},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"!x5.0YiWya^`(y)yO5B8","fields":{"TEXT":"Distance:"}},"block":{"type":"blockStopWatchTime","id":"JWy.0Z.K#WntRhfDnL{v","inputs":{"VAR":{"shadow":{"type":"variables_get_stopwatch","id":"2d#!We:plRjJK5J;*iQ]","fields":{"VAR":{"id":"f!)#u^psK(+1@vc4V)+g","name":"watch","type":"StopWatch"}}}}}}},"TEXT1":{"shadow":{"type":"text","id":"j3(n]O1L]~D[h6j{AACy","fields":{"TEXT":"abc"}},"block":{"type":"blockDriveBaseMeasure","id":"MxG@PsYu7@XI*KB4~;J.","extraState":{"optionLevel":0},"fields":{"METHOD":"DRIVEBASE_GET_DISTANCE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"_VrVTdV`-C6FhVn3O`nr","fields":{"VAR":{"id":"gvR:UtvqI:R]+bffJMhb","name":"robot","type":"DriveBase"}}}}}}},"TEXT2":{"shadow":{"type":"text","id":"%Lx4;G*]8_ci4DUr-B8h","fields":{"TEXT":"abc"}},"block":{"type":"blockDriveBaseMeasure","id":"qn,c.?!xHxG+|Bur=kW4","extraState":{"optionLevel":0},"fields":{"METHOD":"DRIVEBASE_GET_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"bdt0n)eq|6_tzD}BpZuX","fields":{"VAR":{"id":"gvR:UtvqI:R]+bffJMhb","name":"robot","type":"DriveBase"}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"BO;**8Wh]oy$l1K!(98/","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"@f|$O=ho8;e(epuag}/N","fields":{"VALUE0":10}}}}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"_f*1dAFi;USV0Q@}qS2%","type":"ColorDef"},{"name":"orange","id":"ZuVMZe7f{vJ).].8jAoq","type":"ColorDef"},{"name":"yellow","id":"C((nk*Sg,nCM~Nr#HUTU","type":"ColorDef"},{"name":"green","id":",82n|AV_oN^zjCKT{2ve","type":"ColorDef"},{"name":"cyan","id":"t9sT{/ez~X7Zd^9GKkB/","type":"ColorDef"},{"name":"blue","id":"f=1~g-$eP);frKrgyRZe","type":"ColorDef"},{"name":"violet","id":"J^/y7N#+PF?HF~JMYbu+","type":"ColorDef"},{"name":"magenta","id":"8*cL$z-6DI)2hY4nKrws","type":"ColorDef"},{"name":"white","id":"DgN)MSTUtnmJdUCw5Mz[","type":"ColorDef"},{"name":"none","id":"5_J7}]jZRj?~htfct6tX","type":"ColorDef"},{"name":"watch","id":"f!)#u^psK(+1@vc4V)+g","type":"StopWatch"},{"name":"left","id":"2ayhO0H`E}8U5|~=jn^7","type":"Motor"},{"name":"right","id":"v@wn1nh$1@t-0`cn#}l;","type":"Motor"},{"name":"robot","id":"gvR:UtvqI:R]+bffJMhb","type":"DriveBase"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.parameters import Direction, Port
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import StopWatch, multitask, run_task, wait

# Set up all devices.
watch = StopWatch()
left = Motor(Port.A, Direction.COUNTERCLOCKWISE)
right = Motor(Port.B, Direction.CLOCKWISE)
robot = DriveBase(left, right, 56, 128)

async def subtask():
    await robot.straight(250)
    await wait(500)
    await robot.straight(-250)
    await wait(500)

async def subtask2():
    print('Time', 'Distance', 'Speed', sep=",")
    while True:
        await wait(0)
        print(watch.time(), robot.distance(), robot.state()[1], sep=",")
        await wait(10)

async def main():
    await multitask(
        subtask(),
        subtask2(),
        race=True,
    )


run_task(main())